<div class="modal-overlay" *ngIf="visible" (click)="closeModal()">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <button class="modal-close" (click)="closeModal()" aria-label="Fechar">
      <i class="icon-x"></i>
    </button>
    
    <div class="modal-content" *ngIf="product">
      <div class="modal-image">
        <img [src]="product.image" [alt]="product.name">
        <div class="product-category">{{ product.category }}</div>
      </div>
      
      <div class="modal-details">
        <h2 class="product-title">{{ product.name }}</h2>
        
        <div class="product-rating">
          <app-star-rating 
            [rating]="product.rating" 
            [size]="'medium'"
            [showNumber]="true"
          ></app-star-rating>
          <span class="reviews">{{ product.reviews }} avaliações</span>
        </div>
        
        <p class="product-price">R$ {{ product.price.toFixed(2) }}</p>
        
        <p class="product-description">{{ product.description }}</p>
        
        <div class="quantity-selector">
          <span class="quantity-label">Quantidade:</span>
          <div class="quantity-controls">
            <button 
              class="quantity-btn" 
              (click)="decrementQuantity()"
              [disabled]="quantity <= 1"
              aria-label="Diminuir quantidade"
            >
              <i class="icon-minus"></i>
            </button>
            <span class="quantity-value">{{ quantity }}</span>
            <button 
              class="quantity-btn" 
              (click)="incrementQuantity()"
              aria-label="Aumentar quantidade"
            >
              <i class="icon-plus"></i>
            </button>
          </div>
        </div>
        
        <div class="modal-actions">
          <button class="btn btn-primary btn-add-cart" (click)="addToCart()">
            <i class="icon-shopping-cart"></i>
            Adicionar ao Carrinho
          </button>
          <app-wishlist-button 
            [active]="false" 
            (toggle)="$event"
          ></app-wishlist-button>
        </div>
      </div>
    </div>
  </div>
</div>