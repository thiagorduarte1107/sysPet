!function(){"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}function n(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,r||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(self.webpackChunkpawtastic_angular=self.webpackChunkpawtastic_angular||[]).push([[339],{9339:function(r,t,o){o.r(t),o.d(t,{LoginModule:function(){return y}});var i,a=o(8583),u=o(665),s=o(8045),c=o(639),l=o(6215),g=o(5917),d=o(3342),m=((i=function(){return n(function r(){e(this,r),this.currentUserSubject=new l.X(null),this.currentUser$=this.currentUserSubject.asObservable(),this.isAuthenticated=!1;var n=localStorage.getItem("currentUser");n&&(this.currentUserSubject.next(JSON.parse(n)),this.isAuthenticated=!0)},[{key:"login",value:function(e,r){var n=this;return(0,g.of)({id:1,name:"Colaborador Teste",email:e,role:"collaborator"}).pipe((0,d.b)(function(e){n.isAuthenticated=!0,n.currentUserSubject.next(e),localStorage.setItem("currentUser",JSON.stringify(e))}))}},{key:"logout",value:function(){this.isAuthenticated=!1,this.currentUserSubject.next(null),localStorage.removeItem("currentUser")}},{key:"isLoggedIn",value:function(){return this.isAuthenticated}},{key:"getCurrentUser",value:function(){return this.currentUserSubject.value}},{key:"isCollaborator",value:function(){var e=this.getCurrentUser();return!!e&&("collaborator"===e.role||"admin"===e.role)}}])}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i);function f(e,r){if(1&e&&(c.TgZ(0,"div",17),c._uU(1),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.hij(" ",n.error," ")}}function p(e,r){1&e&&c._UZ(0,"span",18)}var h=function(){var r=function(){return n(function r(n,t,o){e(this,r),this.authService=n,this.router=t,this.route=o,this.email="",this.password="",this.returnUrl="/",this.loading=!1,this.error=""},[{key:"ngOnInit",value:function(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.authService.isLoggedIn()&&this.router.navigate([this.returnUrl])}},{key:"onSubmit",value:function(){var e=this;this.loading=!0,this.error="",this.authService.login(this.email,this.password).subscribe({next:function(){e.router.navigate([e.returnUrl])},error:function(r){e.error="Falha na autentica\xe7\xe3o. Verifique suas credenciais.",e.loading=!1},complete:function(){e.loading=!1}})}}])}();return r.\u0275fac=function(e){return new(e||r)(c.Y36(m),c.Y36(s.F0),c.Y36(s.gz))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-login"]],decls:27,vars:5,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","Digite seu email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","placeholder","Digite sua senha","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-options"],[1,"remember-me"],["type","checkbox","id","remember"],["for","remember"],["href","#",1,"forgot-password"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"alert","alert-danger"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"h2"),c._uU(4,"Bem-vindo de Volta"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"Entre na sua conta"),c.qZA(),c.qZA(),c.TgZ(7,"form",3),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.YNc(8,f,2,1,"div",4),c.TgZ(9,"div",5),c.TgZ(10,"label",6),c._uU(11,"Email"),c.qZA(),c.TgZ(12,"input",7),c.NdJ("ngModelChange",function(e){return r.email=e}),c.qZA(),c.qZA(),c.TgZ(13,"div",5),c.TgZ(14,"label",8),c._uU(15,"Senha"),c.qZA(),c.TgZ(16,"input",9),c.NdJ("ngModelChange",function(e){return r.password=e}),c.qZA(),c.qZA(),c.TgZ(17,"div",10),c.TgZ(18,"div",11),c._UZ(19,"input",12),c.TgZ(20,"label",13),c._uU(21,"Lembrar-me"),c.qZA(),c.qZA(),c.TgZ(22,"a",14),c._uU(23,"Esqueceu a senha?"),c.qZA(),c.qZA(),c.TgZ(24,"button",15),c.YNc(25,p,1,0,"span",16),c._uU(26," Entrar "),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(8),c.Q6J("ngIf",r.error),c.xp6(4),c.Q6J("ngModel",r.email),c.xp6(4),c.Q6J("ngModel",r.password),c.xp6(8),c.Q6J("disabled",r.loading),c.xp6(1),c.Q6J("ngIf",r.loading))},directives:[u._Y,u.JL,u.F,a.O5,u.Fj,u.Q7,u.JJ,u.On],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:2rem 0}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background-color:var(--background);border-radius:var(--radius);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;padding:2rem}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin-bottom:.5rem;color:var(--foreground)}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--muted)}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:1.5rem;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:.5rem;gap:.5rem}label[_ngcontent-%COMP%]{font-weight:500;color:var(--foreground)}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid var(--border);border-radius:var(--radius);background-color:var(--background);color:var(--foreground);font-size:1rem;transition:border-color .2s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 2px rgba(var(--primary-rgb),.2)}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:.5rem;gap:.5rem}.forgot-password[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-size:.875rem}.forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-block[_ngcontent-%COMP%]{width:100%;margin-top:1rem}"]}),r}(),b=o(4466),v=[{path:"",component:h}],y=function(){var r=n(function r(){e(this,r)});return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[a.ez,u.u5,b.m,s.Bz.forChild(v)]]}),r}()}}])}();