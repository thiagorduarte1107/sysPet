"use strict";(self.webpackChunkpawtastic_angular=self.webpackChunkpawtastic_angular||[]).push([[339],{9339:function(e,r,t){t.r(r),t.d(r,{LoginModule:function(){return f}});var n=t(8583),o=t(665),i=t(8045),a=t(639),s=t(6215),l=t(5917),c=t(3342);let g=(()=>{class e{constructor(){this.currentUserSubject=new s.X(null),this.currentUser$=this.currentUserSubject.asObservable(),this.isAuthenticated=!1;const e=localStorage.getItem("currentUser");e&&(this.currentUserSubject.next(JSON.parse(e)),this.isAuthenticated=!0)}login(e,r){return(0,l.of)({id:1,name:"Colaborador Teste",email:e,role:"collaborator"}).pipe((0,c.b)(e=>{this.isAuthenticated=!0,this.currentUserSubject.next(e),localStorage.setItem("currentUser",JSON.stringify(e))}))}logout(){this.isAuthenticated=!1,this.currentUserSubject.next(null),localStorage.removeItem("currentUser")}isLoggedIn(){return this.isAuthenticated}getCurrentUser(){return this.currentUserSubject.value}isCollaborator(){const e=this.getCurrentUser();return!!e&&("collaborator"===e.role||"admin"===e.role)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function u(e,r){if(1&e&&(a.TgZ(0,"div",17),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.error," ")}}function d(e,r){1&e&&a._UZ(0,"span",18)}let m=(()=>{class e{constructor(e,r,t){this.authService=e,this.router=r,this.route=t,this.email="",this.password="",this.returnUrl="/",this.loading=!1,this.error=""}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.authService.isLoggedIn()&&this.router.navigate([this.returnUrl])}onSubmit(){this.loading=!0,this.error="",this.authService.login(this.email,this.password).subscribe({next:()=>{this.router.navigate([this.returnUrl])},error:e=>{this.error="Falha na autentica\xe7\xe3o. Verifique suas credenciais.",this.loading=!1},complete:()=>{this.loading=!1}})}}return e.\u0275fac=function(r){return new(r||e)(a.Y36(g),a.Y36(i.F0),a.Y36(i.gz))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-login"]],decls:27,vars:5,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","Digite seu email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","placeholder","Digite sua senha","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-options"],[1,"remember-me"],["type","checkbox","id","remember"],["for","remember"],["href","#",1,"forgot-password"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"alert","alert-danger"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"h2"),a._uU(4,"Bem-vindo de Volta"),a.qZA(),a.TgZ(5,"p"),a._uU(6,"Entre na sua conta"),a.qZA(),a.qZA(),a.TgZ(7,"form",3),a.NdJ("ngSubmit",function(){return r.onSubmit()}),a.YNc(8,u,2,1,"div",4),a.TgZ(9,"div",5),a.TgZ(10,"label",6),a._uU(11,"Email"),a.qZA(),a.TgZ(12,"input",7),a.NdJ("ngModelChange",function(e){return r.email=e}),a.qZA(),a.qZA(),a.TgZ(13,"div",5),a.TgZ(14,"label",8),a._uU(15,"Senha"),a.qZA(),a.TgZ(16,"input",9),a.NdJ("ngModelChange",function(e){return r.password=e}),a.qZA(),a.qZA(),a.TgZ(17,"div",10),a.TgZ(18,"div",11),a._UZ(19,"input",12),a.TgZ(20,"label",13),a._uU(21,"Lembrar-me"),a.qZA(),a.qZA(),a.TgZ(22,"a",14),a._uU(23,"Esqueceu a senha?"),a.qZA(),a.qZA(),a.TgZ(24,"button",15),a.YNc(25,d,1,0,"span",16),a._uU(26," Entrar "),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(8),a.Q6J("ngIf",r.error),a.xp6(4),a.Q6J("ngModel",r.email),a.xp6(4),a.Q6J("ngModel",r.password),a.xp6(8),a.Q6J("disabled",r.loading),a.xp6(1),a.Q6J("ngIf",r.loading))},directives:[o._Y,o.JL,o.F,n.O5,o.Fj,o.Q7,o.JJ,o.On],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:2rem 0}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background-color:var(--background);border-radius:var(--radius);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;padding:2rem}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin-bottom:.5rem;color:var(--foreground)}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--muted)}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:1.5rem;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:.5rem;gap:.5rem}label[_ngcontent-%COMP%]{font-weight:500;color:var(--foreground)}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid var(--border);border-radius:var(--radius);background-color:var(--background);color:var(--foreground);font-size:1rem;transition:border-color .2s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 2px rgba(var(--primary-rgb),.2)}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:.5rem;gap:.5rem}.forgot-password[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-size:.875rem}.forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-block[_ngcontent-%COMP%]{width:100%;margin-top:1rem}"]}),e})();var p=t(4466);const h=[{path:"",component:m}];let f=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[n.ez,o.u5,p.m,i.Bz.forChild(h)]]}),e})()}}]);